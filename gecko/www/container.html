<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Container example for Dr. Glearning Embebed</title>
        <script type="text/javascript" charset="utf-8" src="http://onlineaspect.com/uploads/postmessage/postmessage.js"></script>

    </head>
    <body>
    <div id="main">
    </div>
    <script type="text/javascript" charset="utf-8">

	XD.receiveMessage(function(message){
		console.log(message);
		if(message.data.action=="getPlayerCode")
		{
			console.log('olas');
			XD.postMessage({'action':'postPlayerCode','params':{'playerCode':'e26042353183000df24b54a17ce8595aa528af5d'}}, 'http://client.com:8000', frames[0]);
		}
		if(message.data.action=="getCourseCode")
		{
			console.log('olas');
			XD.postMessage({'action':'postCourseCode','params':{'id':47,'courseCode':'lascosasfeas'}}, 'http://client.com:8000', frames[0]);
		}
	},'http://client.com:8000');
	var el = document.createElement("iframe");
	el.setAttribute('id', 'ifrm');
	el.setAttribute('height', 400);
	el.setAttribute('width', 400);
	var container = document.getElementById("main");
	container.appendChild(el);
	console.log(document.domain);
	var url='http://client.com:8000/?embed=true&careerToEmbed=47&import=http://'+document.domain+':9000';
	el.setAttribute('src', url);

	
	</script>
    </body>
</html>
