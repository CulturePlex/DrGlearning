<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Dr. Glearning</title>
    <link href="resources/js/touch/resources/css/sencha-touch.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="resources/css/glearning.css" type="text/css">
</head>
<body class="splash-body"
      style="background: url(resources/images/splash.png) no-repeat center; background-color: #D4D3D0; background-size: contain;">
    <a href="" target="_blank" id="linker" style="display:none;"></a>
    <span id="stackLogger" style="border: none; float: right; position: absolute; font-weight: bold; opacity: 0.5; overflow-y: scroll; width: 100%; height: 44px; top: 0; right: 0; font-size: 12px; font-family: Courier; z-index: 10000; color: white; background-color: black; padding-left: 5px; display: none;"></span>
</body>
    <script type="text/javascript" charset="utf-8" src="resources/js/head.js"></script>
<!--    <script type="text/javascript" charset="utf-8" src="resources/js/yepnope.1.5.3-min.js"></script>-->
<!--    <script type="text/javascript" charset="utf-8" src="options.js"></script>-->
    <script type="text/javascript" charset="utf-8" src="http://maps.google.com/maps/api/js?key=AIzaSyD1ibezws-sdp2Suvn97eSakILyQsY8Wno&sensor=true&v=3"></script>
<!--    <script type="text/javascript" charset="utf-8" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>-->
<!--    <script type="text/javascript" charset="utf-8" src="phonegap.js"></script>-->
<!--    <script type="text/javascript" charset="utf-8" src="resources/js/touch/sencha-touch-all.js"></script>-->
<!--    <script type="text/javascript" charset="utf-8" src="resources/js/base64writer.js"></script>-->
<!--    <script type="text/javascript" charset="utf-8" src="resources/js/GeoJSON.js"></script>-->
<!--    <script type="text/javascript" charset="utf-8" src="resources/js/maps.google.polygon.containsLatLng.js"></script>-->
<!--    <script type="text/javascript" charset="utf-8" src="loaders.js"></script>-->
    <script type="text/x-mathjax-config">
        // MathJax configuration for TeX and ASCIIMath inputs
        MathJax.Hub.Config({
          jax: ["input/TeX", "input/AsciiMath", "output/HTML-CSS"],
          extensions: ["tex2jax.js", "asciimath2jax.js"],
          messageStyle: "none",
          showProcessingMessages: false,
          showMathMenuMSIE: false,
          showMathMenu: false,
          tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
          },
          TeX: {
            extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
          }
        });
    </script>
    <script type="text/javascript" charset="utf-8">
    /*jshint
        forin:true, noarg:true, noempty:true, eqeqeq:true, bitwise:true, strict:false,
        undef:true, curly:true, browser:true, indent:4, maxerr:50
    */
    /*global
        Ext Jed i18n FBL DEBUG yepnope PhoneGap MathJax JSON console printStackTrace alert DrGlearning
    */

    var VERSION = "0.2.2", TERMS_VERSION = "0.2.2", LANGS = ["es_ES", "fr", "en", "pt_BR"];

    function StackTrace(ex) {
        var logger, msg;
        if (typeof(DEBUG) !== "undefined" && DEBUG) {
            try {
                msg = printStackTrace().join("\n-> ") + "\n @ " + ex;
            } catch (ex1) {
                msg = ex;
            }
            msg = (msg || "<None>").toString();
            try {
                navigator.notification.alert(msg);
            } catch (ex2) {
                try {
                    alert(msg);
                } catch (ex3) {
                    document.getElementById("stackLogger").style.display = "block";
                    logger = document.getElementById("stackLogger");
                    // It is a DOM element, so we have to watch the space
                    logger.innerHTML = "LOG: " + msg.substring(0, 100) + "<br/>" + logger.innerHTML.substring(0, 300);
                }
            } finally {
                console.log(msg);
            }
        } else {
            console.log(ex);
        }
        if (typeof(DrGlearning) !== "undefined") {
            try {
                DrGlearning.app.getController("GlobalSettingsController").toHome();
            } catch (ex4) {
                console.log("Failed at showing Home screen");
            }
        }
    }

    try {
        (function () {
        // Exceptions Catcher Begins
        function onDeviceReady() {
            // Now safe to use the PhoneGap API
            console.log("LAUNCH!!!");
            if (typeof(this.getController) !== "undefined") {
                this.getController("LoadingController").onLaunch();
            }
        }
        document.addEventListener("deviceready", onDeviceReady, false);
        head
        .js("resources/js/touch/sencha-touch-all.js")
        .js("resources/js/jed.js")
        .js("phonegap.js")
        .js("resources/js/base64writer.js")
        .js("resources/js/GeoJSON.js")
        .js("resources/js/maps.google.polygon.containsLatLng.js", function () {
            head
            .js((LANGS.indexOf(localStorage.locale) >= 0)?"resources/js/locales/" + localStorage.locale + ".js":"resources/js/locales/en.js", function () {
                head
                .js("drglearningapp.js")
            })
        })

        // Exceptions Catcher End
        })();
    } catch (ex) {
        StackTrace(ex);
    }
    </script>
</html>
